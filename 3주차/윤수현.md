# 홈페이지 최적화

### 크롬 개발자 도구 Coverage 패널

- 웹 페이지를 렌더링하는 과정에서 어떤 코드가 실행되었는지 보여준다.
- 각 파일의 코드가 얼마나 실행됐는지 비율로 나타냄.
- 퍼센티지가 낮다면 해당 파일에 불필요한 코드가 많이 포함되어 있는 것

<br>

### Tailwind CSS

- 미리 특정 CSS 속성에 대해 클래스를 만들어 두고, 이것을 활용하여 스타일링하는 방식

<br>

### 이미지 지연로드

- 이미지가 화면에 나타나는 순간 혹은 직전에 이미지를 로드
- but, 스크롤 할때마다 실행되는 로직은 많은 이벤트를 발생하게함.
- lodash, throttle과 같은 방식으로 처리 가능
- Intersection Observer를 사용하여 근본적인 해결 가능

<br>

## Intersection Observer

- 웹 페이지의 특정요소를 관찰하면 페이지 스크롤 시, 해당 요소가 화면에 들어왓는지 아닌지를 알려줌.
- 스크롤할 때마다 함수를 호출하는 것이 아니라 요소가 화면에 들어왔을 때만 함수를 호출

```typescript
// 설정값
const options = {
  root: null,
  rootMargin: "0px",
  threshold: 1.0,
};
```

### root

- 대상 객체의 가시성을 확인할 때 사용되는 뷰포트 요소
- 기본값은 null
- null로 설정 시 브라우저의 뷰표트로 설정

### rootMargin

- root 요소의 여백

### threshold

- 가시성 퍼센티지
- 대상 요소가 어느 정도 보일 때 콜백을 실행할지 결정
- 1.0 설정 => 대상 요소가 모두 보일 때 실행
- 0 설정 => 1px이라도 보이는 경우 실행

<br>

## 이미지 사이즈 최적화

- 이미지의 위치에 도달하는 순간 로드하기 때문에 이미지 크기가 크다면 로드될 시 잠시 잘려 보이는 현상이 나타남.

### 이미지 포맷

- PNG
- JPG(JPEG)
- WebP

### PNG

- 무손실 압축방식
- 알파 채널(투명도) 지원

### JPG

- 압축 과정에서 정보 손실이 발생
- 이미지를 보다 더 작은 사이즈로 줄일 수 있음

### WebP

- 무손실 압축과 손실 압축을 모두 제공하는 쵯니 이미지 포맷
- 브라우저 호환성 때문에 모든 브라우저에서 사용될 수 있는 것은 아님

특정 브라우저에서 제대로 렌더링되지 않는 현상을 방지하기 위해 `picture 태그` 사용
